#: import GLShaderLexer pygments.lexers.GLShaderLexer

<Main>:
    orientation: 'horizontal'

    BoxLayout:
        orientation: 'vertical'
        size_hint_x: .2

        ShaderEditor:
            viewer: viewer_id
            size_hint: None, None
            size: 300, root.height

        # Primary Display of Camera Results
        ShaderViewer:
            id: viewer_id
            size_hint_x: .8

            # size_hint: None, None
            # size: root.width, root.height
            # auto_bring_to_front: False
            # do_rotation: False
            # do_translation: True

# ShaderViewer - Shaded Live Camera view
# ------------------------------------------
<ShaderViewer>:
    PylonCamera:
        id: microscope_camera
        resolution: (1900, 1900)
        allow_stretch: True
        keep_ratio: True

# ShaderEditor - view and edit shader code
# ------------------------------------------
<ShaderEditor>:
    orientation: 'horizontal'
    BoxLayout:
        orientation: 'vertical'
        # Fragment Shader Editor
        Label:
            text: 'Fragment Shader'
            size_hint_y: None
            height: self.texture_size[1] + 10
        CodeInput:
            text: root.fs
            lexer: GLShaderLexer()
            on_text: root.fs = args[1]

        # Vertex Shader Editor
        Label:
            text: 'Vertex Shader'
            size_hint_y: None
            height: self.texture_size[1] + 10
        CodeInput:
            text: root.vs
            lexer: GLShaderLexer()
            on_text: root.vs = args[1]
